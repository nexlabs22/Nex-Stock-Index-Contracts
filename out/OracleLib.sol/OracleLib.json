{"abi":[],"bytecode":{"object":"0x60566050600b82828239805160001a6073146043577f4e487b7100000000000000000000000000000000000000000000000000000000600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220addf5b340088bed070211a321b6e79e07c16d7d3856c785b6ff6356ceb2298d364736f6c63430008190033","sourceMap":"149:632:12:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220addf5b340088bed070211a321b6e79e07c16d7d3856c785b6ff6356ceb2298d364736f6c63430008190033","sourceMap":"149:632:12:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/dinary/common/OracleLib.sol\":\"OracleLib\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@chainlink/=node_modules/@chainlink/\",\":@eth-optimism/=node_modules/@chainlink/contracts/node_modules/@eth-optimism/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@prb/=node_modules/@prb/\",\":@thirdweb-dev/=node_modules/@thirdweb-dev/\",\":base64-sol/=node_modules/base64-sol/\",\":ds-test/=node_modules/@thirdweb-dev/dynamic-contracts/lib/forge-std/lib/ds-test/\",\":erc721a-upgradeable/=node_modules/erc721a-upgradeable/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":prb-math/=node_modules/prb-math/\",\":solady/=node_modules/solady/\",\":sstore2/=node_modules/@thirdweb-dev/dynamic-contracts/lib/sstore2/\"]},\"sources\":{\"contracts/dinary/common/NumberUtils.sol\":{\"keccak256\":\"0xe31c02e22f41db2ee2f05f982217ec68cc4eeb3c9ea3b0b73f7f14f3d6a3ff87\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://03099d54d1d3cbc87a0e49c1d7b83923fd57f2101cfc915af174b37cc7fd7a6f\",\"dweb:/ipfs/QmZ2gWJxo1d4ZK8mA3xytsXjapDUDM3EeHTW8KBPHCcE8R\"]},\"contracts/dinary/common/OracleLib.sol\":{\"keccak256\":\"0x41f6e1f0fc90c2c10ef874b7b505196a4ec3eb9cb6b2215151421ae652bf8335\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://a1ab1d3411e04a26918ad11fef7a1b4a9d6d8a440d5f83e80a2f8c0a23a7bcf2\",\"dweb:/ipfs/QmUeBragqj76G7Nzt5dAaCFp7HUwD3GUPNCkEziLBx5p9E\"]},\"node_modules/@prb/math/src/Common.sol\":{\"keccak256\":\"0xaa374e2c26cc93e8c22a6953804ee05f811597ef5fa82f76824378b22944778b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://279c732e161d623cf4d8a9519ca4c42c0c2db99842d0eb2a20c10fde3fa722c9\",\"dweb:/ipfs/QmVViuUXbinQGqtG5M21SgVzKihiCbFUChd4tDhtvwRmxH\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.25+commit.b61c2a91"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=node_modules/@chainlink/","@eth-optimism/=node_modules/@chainlink/contracts/node_modules/@eth-optimism/","@openzeppelin/=node_modules/@openzeppelin/","@prb/=node_modules/@prb/","@thirdweb-dev/=node_modules/@thirdweb-dev/","base64-sol/=node_modules/base64-sol/","ds-test/=node_modules/@thirdweb-dev/dynamic-contracts/lib/forge-std/lib/ds-test/","erc721a-upgradeable/=node_modules/erc721a-upgradeable/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/","prb-math/=node_modules/prb-math/","solady/=node_modules/solady/","sstore2/=node_modules/@thirdweb-dev/dynamic-contracts/lib/sstore2/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/dinary/common/OracleLib.sol":"OracleLib"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/dinary/common/NumberUtils.sol":{"keccak256":"0xe31c02e22f41db2ee2f05f982217ec68cc4eeb3c9ea3b0b73f7f14f3d6a3ff87","urls":["bzz-raw://03099d54d1d3cbc87a0e49c1d7b83923fd57f2101cfc915af174b37cc7fd7a6f","dweb:/ipfs/QmZ2gWJxo1d4ZK8mA3xytsXjapDUDM3EeHTW8KBPHCcE8R"],"license":"GPL-3.0-or-later"},"contracts/dinary/common/OracleLib.sol":{"keccak256":"0x41f6e1f0fc90c2c10ef874b7b505196a4ec3eb9cb6b2215151421ae652bf8335","urls":["bzz-raw://a1ab1d3411e04a26918ad11fef7a1b4a9d6d8a440d5f83e80a2f8c0a23a7bcf2","dweb:/ipfs/QmUeBragqj76G7Nzt5dAaCFp7HUwD3GUPNCkEziLBx5p9E"],"license":"GPL-3.0-or-later"},"node_modules/@prb/math/src/Common.sol":{"keccak256":"0xaa374e2c26cc93e8c22a6953804ee05f811597ef5fa82f76824378b22944778b","urls":["bzz-raw://279c732e161d623cf4d8a9519ca4c42c0c2db99842d0eb2a20c10fde3fa722c9","dweb:/ipfs/QmVViuUXbinQGqtG5M21SgVzKihiCbFUChd4tDhtvwRmxH"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/dinary/common/OracleLib.sol","id":2871,"exportedSymbols":{"NumberUtils":[2810],"OracleLib":[2870],"mulDiv":[79547]},"nodeType":"SourceUnit","src":"45:737:12","nodes":[{"id":2812,"nodeType":"PragmaDirective","src":"45:24:12","nodes":[],"literals":["solidity","^","0.8",".23"]},{"id":2813,"nodeType":"ImportDirective","src":"71:27:12","nodes":[],"absolutePath":"contracts/dinary/common/NumberUtils.sol","file":"./NumberUtils.sol","nameLocation":"-1:-1:-1","scope":2871,"sourceUnit":2811,"symbolAliases":[],"unitAlias":""},{"id":2815,"nodeType":"ImportDirective","src":"99:48:12","nodes":[],"absolutePath":"node_modules/@prb/math/src/Common.sol","file":"@prb/math/src/Common.sol","nameLocation":"-1:-1:-1","scope":2871,"sourceUnit":79966,"symbolAliases":[{"foreign":{"id":2814,"name":"mulDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79547,"src":"107:6:12","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":2870,"nodeType":"ContractDefinition","src":"149:632:12","nodes":[{"id":2833,"nodeType":"FunctionDefinition","src":"173:170:12","nodes":[],"body":{"id":2832,"nodeType":"Block","src":"266:77:12","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":2827,"name":"assetToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2817,"src":"310:10:12","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2828,"name":"paymentToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2819,"src":"322:12:12","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":2825,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"293:3:12","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2826,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"297:12:12","memberName":"encodePacked","nodeType":"MemberAccess","src":"293:16:12","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2829,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"293:42:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2824,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"283:9:12","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2830,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"283:53:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":2823,"id":2831,"nodeType":"Return","src":"276:60:12"}]},"implemented":true,"kind":"function","modifiers":[],"name":"pairIndex","nameLocation":"182:9:12","parameters":{"id":2820,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2817,"mutability":"mutable","name":"assetToken","nameLocation":"200:10:12","nodeType":"VariableDeclaration","scope":2833,"src":"192:18:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2816,"name":"address","nodeType":"ElementaryTypeName","src":"192:7:12","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2819,"mutability":"mutable","name":"paymentToken","nameLocation":"220:12:12","nodeType":"VariableDeclaration","scope":2833,"src":"212:20:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2818,"name":"address","nodeType":"ElementaryTypeName","src":"212:7:12","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"191:42:12"},"returnParameters":{"id":2823,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2822,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2833,"src":"257:7:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2821,"name":"bytes32","nodeType":"ElementaryTypeName","src":"257:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"256:9:12"},"scope":2870,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":2869,"nodeType":"FunctionDefinition","src":"349:430:12","nodes":[],"body":{"id":2868,"nodeType":"Block","src":"519:260:12","nodes":[],"statements":[{"assignments":[2845],"declarations":[{"constant":false,"id":2845,"mutability":"mutable","name":"decimalMult","nameLocation":"537:11:12","nodeType":"VariableDeclaration","scope":2868,"src":"529:19:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2844,"name":"uint256","nodeType":"ElementaryTypeName","src":"529:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2852,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":2846,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"551:2:12","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":2849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3138","id":2847,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"558:2:12","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":2848,"name":"paymentTokenDecimals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2839,"src":"563:20:12","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"558:25:12","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"id":2850,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"557:27:12","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"551:33:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"529:55:12"},{"condition":{"arguments":[{"id":2855,"name":"paymentTokenQuantity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2837,"src":"630:20:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":2856,"name":"decimalMult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2845,"src":"652:11:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":2857,"name":"assetTokenQuantity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2835,"src":"665:18:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":2853,"name":"NumberUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2810,"src":"598:11:12","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_NumberUtils_$2810_$","typeString":"type(library NumberUtils)"}},"id":2854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"610:19:12","memberName":"mulDivCheckOverflow","nodeType":"MemberAccess","referencedDeclaration":2809,"src":"598:31:12","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256,uint256,uint256) pure returns (bool)"}},"id":2858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"598:86:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2861,"nodeType":"IfStatement","src":"594:100:12","trueBody":{"expression":{"hexValue":"30","id":2859,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"693:1:12","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":2843,"id":2860,"nodeType":"Return","src":"686:8:12"}},{"expression":{"arguments":[{"id":2863,"name":"paymentTokenQuantity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2837,"src":"718:20:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":2864,"name":"decimalMult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2845,"src":"740:11:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":2865,"name":"assetTokenQuantity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2835,"src":"753:18:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2862,"name":"mulDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79547,"src":"711:6:12","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":2866,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"711:61:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2843,"id":2867,"nodeType":"Return","src":"704:68:12"}]},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePrice","nameLocation":"358:14:12","parameters":{"id":2840,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2835,"mutability":"mutable","name":"assetTokenQuantity","nameLocation":"381:18:12","nodeType":"VariableDeclaration","scope":2869,"src":"373:26:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2834,"name":"uint256","nodeType":"ElementaryTypeName","src":"373:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2837,"mutability":"mutable","name":"paymentTokenQuantity","nameLocation":"409:20:12","nodeType":"VariableDeclaration","scope":2869,"src":"401:28:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2836,"name":"uint256","nodeType":"ElementaryTypeName","src":"401:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2839,"mutability":"mutable","name":"paymentTokenDecimals","nameLocation":"437:20:12","nodeType":"VariableDeclaration","scope":2869,"src":"431:26:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":2838,"name":"uint8","nodeType":"ElementaryTypeName","src":"431:5:12","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"372:86:12"},"returnParameters":{"id":2843,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2842,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2869,"src":"506:7:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2841,"name":"uint256","nodeType":"ElementaryTypeName","src":"506:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"505:9:12"},"scope":2870,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"OracleLib","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[2870],"name":"OracleLib","nameLocation":"157:9:12","scope":2871,"usedErrors":[],"usedEvents":[]}],"license":"GPL-3.0-or-later"},"id":12}