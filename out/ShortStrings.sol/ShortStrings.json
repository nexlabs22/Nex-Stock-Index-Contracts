{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea264697066735822122001c4d3957bd2ab8c24d985efd1b2d9808f14491ff4bf83029ba96dfd86455dc464736f6c63430008190033","sourceMap":"1255:3053:111:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea264697066735822122001c4d3957bd2ab8c24d985efd1b2d9808f14491ff4bf83029ba96dfd86455dc464736f6c63430008190033","sourceMap":"1255:3053:111:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.25+commit.b61c2a91\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@chainlink/=node_modules/@chainlink/\",\":@eth-optimism/=node_modules/@chainlink/contracts/node_modules/@eth-optimism/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":@prb/=node_modules/@prb/\",\":@scroll-tech/=node_modules/@scroll-tech/\",\":@thirdweb-dev/=node_modules/@thirdweb-dev/\",\":base64-sol/=node_modules/base64-sol/\",\":ds-test/=node_modules/@thirdweb-dev/dynamic-contracts/lib/forge-std/lib/ds-test/\",\":erc721a-upgradeable/=node_modules/erc721a-upgradeable/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":prb-math/=node_modules/prb-math/\",\":solady/=node_modules/solady/\",\":sstore2/=node_modules/@thirdweb-dev/dynamic-contracts/lib/sstore2/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0x18a7171df639a934592915a520ecb97c5bbc9675a1105607aac8a94e72bf62c6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7478e1f13da69a2867ccd883001d836b75620362e743f196376d63ed0c422a1c\",\"dweb:/ipfs/QmWywcQ9TNfwtoqAxbn25d8C5VrV12PrPS9UjtGe6pL2BA\"]},\"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0x32ba59b4b7299237c8ba56319110989d7978a039faf754793064e967e5894418\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1ae50c8b562427df610cc4540c9bf104acca7ef8e2dcae567ae7e52272281e9c\",\"dweb:/ipfs/QmTHiadFCSJUPpRjNegc5SahmeU8bAoY8i9Aq6tVscbcKR\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.25+commit.b61c2a91"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=node_modules/@chainlink/","@eth-optimism/=node_modules/@chainlink/contracts/node_modules/@eth-optimism/","@openzeppelin/=node_modules/@openzeppelin/","@prb/=node_modules/@prb/","@scroll-tech/=node_modules/@scroll-tech/","@thirdweb-dev/=node_modules/@thirdweb-dev/","base64-sol/=node_modules/base64-sol/","ds-test/=node_modules/@thirdweb-dev/dynamic-contracts/lib/forge-std/lib/ds-test/","erc721a-upgradeable/=node_modules/erc721a-upgradeable/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/","prb-math/=node_modules/prb-math/","solady/=node_modules/solady/","sstore2/=node_modules/@thirdweb-dev/dynamic-contracts/lib/sstore2/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"cancun","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":{"keccak256":"0x18a7171df639a934592915a520ecb97c5bbc9675a1105607aac8a94e72bf62c6","urls":["bzz-raw://7478e1f13da69a2867ccd883001d836b75620362e743f196376d63ed0c422a1c","dweb:/ipfs/QmWywcQ9TNfwtoqAxbn25d8C5VrV12PrPS9UjtGe6pL2BA"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol":{"keccak256":"0x32ba59b4b7299237c8ba56319110989d7978a039faf754793064e967e5894418","urls":["bzz-raw://1ae50c8b562427df610cc4540c9bf104acca7ef8e2dcae567ae7e52272281e9c","dweb:/ipfs/QmTHiadFCSJUPpRjNegc5SahmeU8bAoY8i9Aq6tVscbcKR"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol","id":73084,"exportedSymbols":{"ShortString":[72872],"ShortStrings":[73083],"StorageSlot":[73193]},"nodeType":"SourceUnit","src":"106:4203:111","nodes":[{"id":72868,"nodeType":"PragmaDirective","src":"106:24:111","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":72870,"nodeType":"ImportDirective","src":"132:46:111","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":73084,"sourceUnit":73194,"symbolAliases":[{"foreign":{"id":72869,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73193,"src":"140:11:111","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":72872,"nodeType":"UserDefinedValueTypeDefinition","src":"348:28:111","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"353:11:111","underlyingType":{"id":72871,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:111","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":73083,"nodeType":"ContractDefinition","src":"1255:3053:111","nodes":[{"id":72876,"nodeType":"VariableDeclaration","src":"1345:111:111","nodes":[],"constant":true,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:111","scope":73083,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72874,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:111","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":72875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:111","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":72880,"nodeType":"ErrorDefinition","src":"1463:32:111","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1469:13:111","parameters":{"id":72879,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72878,"mutability":"mutable","name":"str","nameLocation":"1490:3:111","nodeType":"VariableDeclaration","scope":72880,"src":"1483:10:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":72877,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:111"}},{"id":72882,"nodeType":"ErrorDefinition","src":"1500:27:111","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1506:18:111","parameters":{"id":72881,"nodeType":"ParameterList","parameters":[],"src":"1524:2:111"}},{"id":72926,"nodeType":"FunctionDefinition","src":"1708:286:111","nodes":[],"body":{"id":72925,"nodeType":"Block","src":"1786:208:111","nodes":[],"statements":[{"assignments":[72892],"declarations":[{"constant":false,"id":72892,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:111","nodeType":"VariableDeclaration","scope":72925,"src":"1796:17:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":72891,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:111","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":72897,"initialValue":{"arguments":[{"id":72895,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72885,"src":"1822:3:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":72894,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:111","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":72893,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:111","typeDescriptions":{}}},"id":72896,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:111"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72898,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72892,"src":"1840:4:111","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:111","memberName":"length","nodeType":"MemberAccess","src":"1840:11:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":72900,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:2:111","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1840:16:111","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72907,"nodeType":"IfStatement","src":"1836:72:111","trueBody":{"id":72906,"nodeType":"Block","src":"1858:50:111","statements":[{"errorCall":{"arguments":[{"id":72903,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72885,"src":"1893:3:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":72902,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72880,"src":"1879:13:111","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":72904,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1879:18:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72905,"nodeType":"RevertStatement","src":"1872:25:111"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":72916,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72892,"src":"1965:4:111","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":72915,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1957:7:111","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72914,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1957:7:111","typeDescriptions":{}}},"id":72917,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1957:13:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":72913,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1949:7:111","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72912,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:111","typeDescriptions":{}}},"id":72918,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1949:22:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":72919,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72892,"src":"1974:4:111","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1979:6:111","memberName":"length","nodeType":"MemberAccess","src":"1974:11:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1949:36:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72911,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1941:7:111","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":72910,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1941:7:111","typeDescriptions":{}}},"id":72922,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1941:45:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":72908,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72872,"src":"1924:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"type(ShortString)"}},"id":72909,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1936:4:111","memberName":"wrap","nodeType":"MemberAccess","src":"1924:16:111","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":72923,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:63:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"functionReturnParameters":72890,"id":72924,"nodeType":"Return","src":"1917:70:111"}]},"documentation":{"id":72883,"nodeType":"StructuredDocumentation","src":"1533:170:111","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:111","parameters":{"id":72886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72885,"mutability":"mutable","name":"str","nameLocation":"1745:3:111","nodeType":"VariableDeclaration","scope":72926,"src":"1731:17:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":72884,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:111"},"returnParameters":{"id":72890,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72889,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72926,"src":"1773:11:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":72888,"nodeType":"UserDefinedTypeName","pathNode":{"id":72887,"name":"ShortString","nameLocations":["1773:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"1773:11:111"},"referencedDeclaration":72872,"src":"1773:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:111"},"scope":73083,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":72952,"nodeType":"FunctionDefinition","src":"2078:405:111","nodes":[],"body":{"id":72951,"nodeType":"Block","src":"2152:331:111","nodes":[],"statements":[{"assignments":[72936],"declarations":[{"constant":false,"id":72936,"mutability":"mutable","name":"len","nameLocation":"2170:3:111","nodeType":"VariableDeclaration","scope":72951,"src":"2162:11:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72935,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72940,"initialValue":{"arguments":[{"id":72938,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72930,"src":"2187:4:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"id":72937,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72984,"src":"2176:10:111","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":72939,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2176:16:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2162:30:111"},{"assignments":[72942],"declarations":[{"constant":false,"id":72942,"mutability":"mutable","name":"str","nameLocation":"2294:3:111","nodeType":"VariableDeclaration","scope":72951,"src":"2280:17:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":72941,"name":"string","nodeType":"ElementaryTypeName","src":"2280:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":72947,"initialValue":{"arguments":[{"hexValue":"3332","id":72945,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2311:2:111","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":72944,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2300:10:111","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":72943,"name":"string","nodeType":"ElementaryTypeName","src":"2304:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":72946,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2300:14:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2280:34:111"},{"AST":{"nativeSrc":"2376:81:111","nodeType":"YulBlock","src":"2376:81:111","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2397:3:111","nodeType":"YulIdentifier","src":"2397:3:111"},{"name":"len","nativeSrc":"2402:3:111","nodeType":"YulIdentifier","src":"2402:3:111"}],"functionName":{"name":"mstore","nativeSrc":"2390:6:111","nodeType":"YulIdentifier","src":"2390:6:111"},"nativeSrc":"2390:16:111","nodeType":"YulFunctionCall","src":"2390:16:111"},"nativeSrc":"2390:16:111","nodeType":"YulExpressionStatement","src":"2390:16:111"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2430:3:111","nodeType":"YulIdentifier","src":"2430:3:111"},{"kind":"number","nativeSrc":"2435:4:111","nodeType":"YulLiteral","src":"2435:4:111","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2426:3:111","nodeType":"YulIdentifier","src":"2426:3:111"},"nativeSrc":"2426:14:111","nodeType":"YulFunctionCall","src":"2426:14:111"},{"name":"sstr","nativeSrc":"2442:4:111","nodeType":"YulIdentifier","src":"2442:4:111"}],"functionName":{"name":"mstore","nativeSrc":"2419:6:111","nodeType":"YulIdentifier","src":"2419:6:111"},"nativeSrc":"2419:28:111","nodeType":"YulFunctionCall","src":"2419:28:111"},"nativeSrc":"2419:28:111","nodeType":"YulExpressionStatement","src":"2419:28:111"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"cancun","externalReferences":[{"declaration":72936,"isOffset":false,"isSlot":false,"src":"2402:3:111","valueSize":1},{"declaration":72930,"isOffset":false,"isSlot":false,"src":"2442:4:111","valueSize":1},{"declaration":72942,"isOffset":false,"isSlot":false,"src":"2397:3:111","valueSize":1},{"declaration":72942,"isOffset":false,"isSlot":false,"src":"2430:3:111","valueSize":1}],"id":72948,"nodeType":"InlineAssembly","src":"2367:90:111"},{"expression":{"id":72949,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72942,"src":"2473:3:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":72934,"id":72950,"nodeType":"Return","src":"2466:10:111"}]},"documentation":{"id":72927,"nodeType":"StructuredDocumentation","src":"2000:73:111","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2087:8:111","parameters":{"id":72931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72930,"mutability":"mutable","name":"sstr","nameLocation":"2108:4:111","nodeType":"VariableDeclaration","scope":72952,"src":"2096:16:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":72929,"nodeType":"UserDefinedTypeName","pathNode":{"id":72928,"name":"ShortString","nameLocations":["2096:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"2096:11:111"},"referencedDeclaration":72872,"src":"2096:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"}],"src":"2095:18:111"},"returnParameters":{"id":72934,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72933,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72952,"src":"2137:13:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":72932,"name":"string","nodeType":"ElementaryTypeName","src":"2137:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2136:15:111"},"scope":73083,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":72984,"nodeType":"FunctionDefinition","src":"2555:245:111","nodes":[],"body":{"id":72983,"nodeType":"Block","src":"2625:175:111","nodes":[],"statements":[{"assignments":[72962],"declarations":[{"constant":false,"id":72962,"mutability":"mutable","name":"result","nameLocation":"2643:6:111","nodeType":"VariableDeclaration","scope":72983,"src":"2635:14:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72961,"name":"uint256","nodeType":"ElementaryTypeName","src":"2635:7:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72972,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":72967,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72956,"src":"2679:4:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"expression":{"id":72965,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72872,"src":"2660:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"type(ShortString)"}},"id":72966,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2672:6:111","memberName":"unwrap","nodeType":"MemberAccess","src":"2660:18:111","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":72968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2660:24:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":72964,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2652:7:111","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72963,"name":"uint256","nodeType":"ElementaryTypeName","src":"2652:7:111","typeDescriptions":{}}},"id":72969,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2652:33:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":72970,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2688:4:111","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2652:40:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2635:57:111"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72973,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72962,"src":"2706:6:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":72974,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2715:2:111","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2706:11:111","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72980,"nodeType":"IfStatement","src":"2702:69:111","trueBody":{"id":72979,"nodeType":"Block","src":"2719:52:111","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72976,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72882,"src":"2740:18:111","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2740:20:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72978,"nodeType":"RevertStatement","src":"2733:27:111"}]}},{"expression":{"id":72981,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72962,"src":"2787:6:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":72960,"id":72982,"nodeType":"Return","src":"2780:13:111"}]},"documentation":{"id":72953,"nodeType":"StructuredDocumentation","src":"2489:61:111","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2564:10:111","parameters":{"id":72957,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72956,"mutability":"mutable","name":"sstr","nameLocation":"2587:4:111","nodeType":"VariableDeclaration","scope":72984,"src":"2575:16:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":72955,"nodeType":"UserDefinedTypeName","pathNode":{"id":72954,"name":"ShortString","nameLocations":["2575:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"2575:11:111"},"referencedDeclaration":72872,"src":"2575:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"}],"src":"2574:18:111"},"returnParameters":{"id":72960,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72959,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72984,"src":"2616:7:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72958,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2615:9:111"},"scope":73083,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":73024,"nodeType":"FunctionDefinition","src":"2914:340:111","nodes":[],"body":{"id":73023,"nodeType":"Block","src":"3023:231:111","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":72997,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72987,"src":"3043:5:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":72996,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3037:5:111","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":72995,"name":"bytes","nodeType":"ElementaryTypeName","src":"3037:5:111","typeDescriptions":{}}},"id":72998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3037:12:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3050:6:111","memberName":"length","nodeType":"MemberAccess","src":"3037:19:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":73000,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3059:2:111","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3037:24:111","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73021,"nodeType":"Block","src":"3121:127:111","statements":[{"expression":{"id":73014,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":73010,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72989,"src":"3161:5:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":73007,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73193,"src":"3135:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$73193_$","typeString":"type(library StorageSlot)"}},"id":73009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3147:13:111","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":73170,"src":"3135:25:111","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$73101_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":73011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3135:32:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$73101_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":73012,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3168:5:111","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":73100,"src":"3135:38:111","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":73013,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72987,"src":"3176:5:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3135:46:111","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":73015,"nodeType":"ExpressionStatement","src":"3135:46:111"},{"expression":{"arguments":[{"id":73018,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72876,"src":"3219:17:111","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":73016,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72872,"src":"3202:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"type(ShortString)"}},"id":73017,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3214:4:111","memberName":"wrap","nodeType":"MemberAccess","src":"3202:16:111","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":73019,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3202:35:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"functionReturnParameters":72994,"id":73020,"nodeType":"Return","src":"3195:42:111"}]},"id":73022,"nodeType":"IfStatement","src":"3033:215:111","trueBody":{"id":73006,"nodeType":"Block","src":"3063:52:111","statements":[{"expression":{"arguments":[{"id":73003,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72987,"src":"3098:5:111","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":73002,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72926,"src":"3084:13:111","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":73004,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3084:20:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"functionReturnParameters":72994,"id":73005,"nodeType":"Return","src":"3077:27:111"}]}}]},"documentation":{"id":72985,"nodeType":"StructuredDocumentation","src":"2806:103:111","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2923:25:111","parameters":{"id":72990,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72987,"mutability":"mutable","name":"value","nameLocation":"2963:5:111","nodeType":"VariableDeclaration","scope":73024,"src":"2949:19:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":72986,"name":"string","nodeType":"ElementaryTypeName","src":"2949:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":72989,"mutability":"mutable","name":"store","nameLocation":"2985:5:111","nodeType":"VariableDeclaration","scope":73024,"src":"2970:20:111","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":72988,"name":"string","nodeType":"ElementaryTypeName","src":"2970:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2948:43:111"},"returnParameters":{"id":72994,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72993,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73024,"src":"3010:11:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":72992,"nodeType":"UserDefinedTypeName","pathNode":{"id":72991,"name":"ShortString","nameLocations":["3010:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"3010:11:111"},"referencedDeclaration":72872,"src":"3010:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"}],"src":"3009:13:111"},"scope":73083,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73051,"nodeType":"FunctionDefinition","src":"3385:267:111","nodes":[],"body":{"id":73050,"nodeType":"Block","src":"3494:158:111","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":73040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":73037,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73028,"src":"3527:5:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"expression":{"id":73035,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72872,"src":"3508:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"type(ShortString)"}},"id":73036,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3520:6:111","memberName":"unwrap","nodeType":"MemberAccess","src":"3508:18:111","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":73038,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3508:25:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":73039,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72876,"src":"3537:17:111","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3508:46:111","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73048,"nodeType":"Block","src":"3609:37:111","statements":[{"expression":{"id":73046,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73030,"src":"3630:5:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":73034,"id":73047,"nodeType":"Return","src":"3623:12:111"}]},"id":73049,"nodeType":"IfStatement","src":"3504:142:111","trueBody":{"id":73045,"nodeType":"Block","src":"3556:47:111","statements":[{"expression":{"arguments":[{"id":73042,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73028,"src":"3586:5:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"id":73041,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72952,"src":"3577:8:111","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":73043,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3577:15:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":73034,"id":73044,"nodeType":"Return","src":"3570:22:111"}]}}]},"documentation":{"id":73025,"nodeType":"StructuredDocumentation","src":"3260:120:111","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3394:20:111","parameters":{"id":73031,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73028,"mutability":"mutable","name":"value","nameLocation":"3427:5:111","nodeType":"VariableDeclaration","scope":73051,"src":"3415:17:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":73027,"nodeType":"UserDefinedTypeName","pathNode":{"id":73026,"name":"ShortString","nameLocations":["3415:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"3415:11:111"},"referencedDeclaration":72872,"src":"3415:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":73030,"mutability":"mutable","name":"store","nameLocation":"3449:5:111","nodeType":"VariableDeclaration","scope":73051,"src":"3434:20:111","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":73029,"name":"string","nodeType":"ElementaryTypeName","src":"3434:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3414:41:111"},"returnParameters":{"id":73034,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73033,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73051,"src":"3479:13:111","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":73032,"name":"string","nodeType":"ElementaryTypeName","src":"3479:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3478:15:111"},"scope":73083,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":73082,"nodeType":"FunctionDefinition","src":"4027:279:111","nodes":[],"body":{"id":73081,"nodeType":"Block","src":"4132:174:111","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":73067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":73064,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73055,"src":"4165:5:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"expression":{"id":73062,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72872,"src":"4146:11:111","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$72872_$","typeString":"type(ShortString)"}},"id":73063,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4158:6:111","memberName":"unwrap","nodeType":"MemberAccess","src":"4146:18:111","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":73065,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4146:25:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":73066,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72876,"src":"4175:17:111","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4146:46:111","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73079,"nodeType":"Block","src":"4249:51:111","statements":[{"expression":{"expression":{"arguments":[{"id":73075,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73057,"src":"4276:5:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":73074,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4270:5:111","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":73073,"name":"bytes","nodeType":"ElementaryTypeName","src":"4270:5:111","typeDescriptions":{}}},"id":73076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4270:12:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":73077,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4283:6:111","memberName":"length","nodeType":"MemberAccess","src":"4270:19:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":73061,"id":73078,"nodeType":"Return","src":"4263:26:111"}]},"id":73080,"nodeType":"IfStatement","src":"4142:158:111","trueBody":{"id":73072,"nodeType":"Block","src":"4194:49:111","statements":[{"expression":{"arguments":[{"id":73069,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73055,"src":"4226:5:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}],"id":73068,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72984,"src":"4215:10:111","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$72872_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":73070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4215:17:111","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":73061,"id":73071,"nodeType":"Return","src":"4208:24:111"}]}}]},"documentation":{"id":73052,"nodeType":"StructuredDocumentation","src":"3658:364:111","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4036:22:111","parameters":{"id":73058,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73055,"mutability":"mutable","name":"value","nameLocation":"4071:5:111","nodeType":"VariableDeclaration","scope":73082,"src":"4059:17:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"},"typeName":{"id":73054,"nodeType":"UserDefinedTypeName","pathNode":{"id":73053,"name":"ShortString","nameLocations":["4059:11:111"],"nodeType":"IdentifierPath","referencedDeclaration":72872,"src":"4059:11:111"},"referencedDeclaration":72872,"src":"4059:11:111","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$72872","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":73057,"mutability":"mutable","name":"store","nameLocation":"4093:5:111","nodeType":"VariableDeclaration","scope":73082,"src":"4078:20:111","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":73056,"name":"string","nodeType":"ElementaryTypeName","src":"4078:6:111","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4058:41:111"},"returnParameters":{"id":73061,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73060,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73082,"src":"4123:7:111","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73059,"name":"uint256","nodeType":"ElementaryTypeName","src":"4123:7:111","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4122:9:111"},"scope":73083,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":72873,"nodeType":"StructuredDocumentation","src":"378:876:111","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[73083],"name":"ShortStrings","nameLocation":"1263:12:111","scope":73084,"usedErrors":[72880,72882],"usedEvents":[]}],"license":"MIT"},"id":111}